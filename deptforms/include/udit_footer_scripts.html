<script src="/deptforms/js/udit_date_polyfill.js"></script>
<script src="/deptforms/js/udit_accessibility.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/validate.js/0.12.0/validate.min.js"></script>
<!-- <script src="/deptforms/js/nodep-date-input-polyfill.dist.js"></script> -->
<!-- See http://jquery.com/download/ for details on how to obtain SRI -->
<!-- <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/deptforms/js/libs/jquery/jquery-3.1.1.min.js"><\/script>')</script> -->

<script>

  /**
   * validate date pattern
   * pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
   */
  /**
   * https://github.com/mdn/learning-area/blob/master/accessibility/aria/validation.js
   * @type {[type]}
   */
//   var inputs = document.querySelectorAll('input');
// var labels = document.querySelectorAll('label');
// var form = document.querySelector('form');

// var formItems = [];

// var errorField = document.querySelector('.errors');
// var errorList = document.querySelector('.errors ul');

// var checkbox;
// var checkboxLabel;

// var hiddenAlert = document.querySelector('.hidden-alert');

// for(var i = 0; i < inputs.length-1; i++) {
//   if(inputs[i].type !== 'checkbox') {
//     var obj = {};
//     obj.label = labels[i];
//     obj.input = inputs[i];
//     formItems.push(obj);
//   } else {
//     checkbox = inputs[i];
//     checkboxLabel = labels[i];
//   }
// }

// errorField.style.left = '-100%';

// toggleMusician(false);

// form.onsubmit = validate;

// function validate(e) {
//   errorList.innerHTML = '';
//   for(var i = 0; i < formItems.length; i++) {
//     var testItem = formItems[i];
//     if(testItem.input.value === '' && testItem.input.disabled === false) {
//       errorField.style.left = '360px';
//       createLink(testItem);
//     }
//   }

//   if(errorList.innerHTML !== '') {
//     e.preventDefault();
//   }
// }

// function createLink(testItem) {
//   var listItem = document.createElement('li');
//   var anchor = document.createElement('a');
//   anchor.textContent = testItem.input.name + ' field is empty: fill in your ' + testItem.input.name + '.';
//   anchor.href = '#' + testItem.input.name;
//   anchor.onclick = function() {
//     testItem.input.focus();
//   };
//   listItem.appendChild(anchor);
//   errorList.appendChild(listItem);
// }

// checkbox.onchange = function() {
//   if(checkbox.checked) {
//     toggleMusician(true);
//   } else {
//     toggleMusician(false);
//   }
// };

// function toggleMusician(bool) {
//   var instruItem = formItems[formItems.length-1];
//   if(bool) {
//     instruItem.input.disabled = false;
//     instruItem.label.style.color = '#000';
//     instruItem.input.setAttribute('aria-disabled', 'false');
//     hiddenAlert.textContent = 'Instruments played field now enabled; use it to tell us what you play.';
//   } else {
//     instruItem.input.disabled = true;
//     instruItem.label.style.color = '#999';
//     instruItem.input.setAttribute('aria-disabled', 'true');
//     instruItem.input.removeAttribute('aria-label');
//     hiddenAlert.textContent = 'Instruments played field now disabled.';
//   }
// }


/**
 * minlength regex to check for hypen in email address
 * validate us phone

https://code.tutsplus.com/tutorials/html5-mastery-constraint-validation--cms-24844

^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$

// If a field fails validation, use setCustomValidity() to mark the field invalid and explain why the field didn't validate. For example, a sign up form might ask the user to confirm their email address by entering it twice. Use the blur event on the second input to validate the two inputs and set the appropriate response. For example:
 */
// if (input.value != primaryEmail) {
//   // the provided value doesn't match the primary email address
//   input.setCustomValidity('The two email addresses must match.');
//   console.log("E-mail addresses do not match", primaryEmail, input.value);
// } else {
//   // input is valid -- reset the error message
//   input.setCustomValidity('');
// }
/**
 * USE BELOW FOR VANILLA SELECT ONCHANGE
 */

// add aria-expanded change
// document.querySelector('a[aria-expanded="true"]')


      // var select = document.querySelector('select');
      // var other = document.querySelector('input');
      // other.parentElement.style.display = 'none';
      // select.onchange = function() {
      //   if(select.value === 'other') {
      //     other.parentElement.style.display = 'block';
      //   } else {
      //     other.parentElement.style.display = 'none';
      //   }
      // }
/**
 * PASS TITLE TO ANOTHER PAGE
 *
 * Saves title text from form via localStorage to display on success page.
 * @type {Object}
 */
// var m={title:$('.udel--title h1').text()};
// localStorage.setItem('udel_frm_title', JSON.stringify(m));
// //GET

// var gm =JSON.parse(localStorage.getItem('udel_frm_title'));
// console.log('title' + gm.title);

/**
  * PREVENT # LINKS FROM FIRING
  * @see  http://stackoverflow.com/questions/30004365/jquery-prevent-jump-on-a-tag-if-href-only-contains
 */
// $('a[href="#"]').on('click', function (e) {
//   e.preventDefault();
// });
/*!
 * jQuery Validation Plugin v1.16.1-pre
 * https://jqueryvalidation.org/
 * Copyright (c) 2017 JÃ¶rn Zaefferer
 * Released under the MIT license
 *
 * re-paste below
 */


/** US PHONE VALIDATION
* custom addMethod to avoid having to load additional-methods js file.
 */
// jQuery.validator.addMethod("phoneUS", function(phone_number, element) {
//     phone_number = phone_number.replace(/\s+/g, "");
// 	return this.optional(element) || phone_number.length > 9 &&
// 		phone_number.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/);
// }, "Provide a valid phone number");

/*! Chained 2.0.0-beta.2 - MIT license - Copyright 2010-2017 Mika Tuupola */

</script>
